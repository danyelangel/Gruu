/* jshint ignore:start */
/*eslint-disable */
!function(){function t(t,e){var n=t.directive;t.directive=function(t,r){return e.register(t,r),n.apply(this,arguments)}}function e(t,e,n){function r(n,r,a,u,s){var c=function(){function i(t,e){this.controller=t,this.router=e}return i.prototype.cleanupLastView=function(){var e=this;this.previousLeaveAnimation&&(t.cancel(this.previousLeaveAnimation),this.previousLeaveAnimation=null),this.currentScope&&(this.currentScope.$destroy(),this.currentScope=null),this.currentElement&&(this.previousLeaveAnimation=t.leave(this.currentElement),this.previousLeaveAnimation.then(function(){return e.previousLeaveAnimation=null}),this.currentElement=null)},i.prototype.reuse=function(t){var n=e.when(!0),r=this.currentInstruction;return this.currentInstruction=t,this.currentController&&this.currentController.$routerOnReuse&&(n=e.when(this.currentController.$routerOnReuse(this.currentInstruction,r))),n},i.prototype.routerCanReuse=function(t){var n;return n=this.currentInstruction&&this.currentInstruction.componentType===t.componentType?this.currentController&&this.currentController.$routerCanReuse?this.currentController.$routerCanReuse(t,this.currentInstruction):t===this.currentInstruction||angular.equals(t.params,this.currentInstruction.params):!1,e.when(n)},i.prototype.routerCanDeactivate=function(t){return this.currentController&&this.currentController.$routerCanDeactivate?e.when(this.currentController.$routerCanDeactivate(t,this.currentInstruction)):e.when(!0)},i.prototype.deactivate=function(t){return this.currentController&&this.currentController.$routerOnDeactivate?e.when(this.currentController.$routerOnDeactivate(t,this.currentInstruction)):e.when()},i.prototype.activate=function(i){var a=this;this.previousInstruction=this.currentInstruction,this.currentInstruction=i;var u=this.controller.$$componentName=i.componentType;if("string"!=typeof u)throw new Error("Component is not a string for "+i.urlPath);this.controller.$$template="<"+o(u)+' $router="::$$router"></'+o(u)+">",this.controller.$$router=this.router.childRouter(i.componentType),this.controller.$$outlet=this;var c=n.$new();c.$$router=this.controller.$$router,this.deferredActivation=e.defer();var h=s(c,function(e){t.enter(e,null,a.currentElement||r),a.cleanupLastView()});return this.currentElement=h,this.currentScope=c,this.deferredActivation.promise},i}(),h=u[0],l=u[1],p=h&&h.$$router||i;l.$$currentComponent=null,p.registerPrimaryOutlet(new c(l,p))}var i=n;return{restrict:"AE",transclude:"element",terminal:!0,priority:400,require:["?^^ngOutlet","ngOutlet"],link:r,controller:function(){function t(){}return t}(),controllerAs:"$$ngOutlet"}}function n(t){return{restrict:"EA",priority:-400,require:"ngOutlet",link:function(e,n,r,i){var o=i.$$template;n.html(o),t(n.contents())(e)}}}function r(t){return{require:"^ngOutlet",priority:-1e3,link:function(e,n,r,i){var o=t.when(),a=i.$$outlet,u=a.currentController=n.controller(i.$$componentName);u.$routerOnActivate&&(o=t.when(u.$routerOnActivate(a.currentInstruction,a.previousInstruction))),o.then(a.deferredActivation.resolve,a.deferredActivation.reject)}}}function i(t,e){function n(n,r,i,o){function a(t){return s=u.generate(t),"./"+angular.stringifyInstruction(s)}var u=o&&o.$$router||t;if(u){var s=null,c=i.ngLink||"",h=e(c);if(h.constant){var l=h();r.attr("href",a(l))}else n.$watch(function(){return h(n)},function(t){return r.attr("href",a(t))},!0);r.on("click",function(e){1===e.which&&s&&(t.navigateByInstruction(s),e.preventDefault())})}}return{require:"?^^ngOutlet",restrict:"A",link:n}}function o(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function a(t,e,n,r,i,o,a){function u(){return function(t){return t}}function s(t){return t}function c(t){return!!t}function h(t){return!t}function l(t){return"string"==typeof t}function p(t){return"function"==typeof t}function f(t){return"object"==typeof t&&null!==t}function g(t){return Array.isArray(t)}function m(t){return t.name||"Root"}function v(){}function y(){}function d(t){return h(t)?null:t.toString()}function _(t){var e=[];return h(t)?[]:(E.forEach(t,function(t,n){e.push(t===!0?n:n+"="+t)}),e)}function R(t,e){return void 0===e&&(e="&"),_(t).join(e)}function w(t){for(var e=new F(t[t.length-1]),n=t.length-2;n>=0;n-=1)e=new F(t[n],e);return e}function P(t){var e=k.firstMatch(J,t);return c(e)?e[0]:""}function x(t,e){return e instanceof Type?t.name in e.prototype:!1}function A(t){for(var e=N.annotations(t),n=0;n<e.length;n+=1){var r=e[n];if(r instanceof Z.CanActivate)return r.fn}return null}function C(t,e){if(t instanceof at.AsyncRoute){var n=S(t.loader,e);return new at.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t instanceof at.Route||t instanceof at.Redirect||t instanceof at.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new M('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.as&&t.name)throw new M('Route config should contain exactly one "as" or "name" property.');if(t.as&&(t.name=t.as),t.loader){var n=S(t.loader,e);return new at.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t.aux)return new at.AuxRoute({path:t.aux,component:t.component,name:t.name});if(t.component){if("object"==typeof t.component){var r=t.component;if("constructor"==r.type)return new at.Route({path:t.path,component:r.constructor,name:t.name,data:t.data,useAsDefault:t.useAsDefault});if("loader"==r.type)return new at.AsyncRoute({path:t.path,loader:r.loader,name:t.name,data:t.data,useAsDefault:t.useAsDefault});throw new M('Invalid component type "'+r.type+'". Valid types are "constructor" and "loader".')}return new at.Route(t)}return t.redirectTo?new at.Redirect({path:t.path,redirectTo:t.redirectTo}):t}function S(t,e){return function(){return t().then(function(t){return e.configFromComponent(t),t})}}function b(t,e){if(!p(t))throw new M('Component for route "'+e+'" is not defined, or is not a class.')}function I(t){var e=[];return t.forEach(function(t){if(l(t)){var n=t;e=e.concat(n.split("/"))}else e.push(t)}),e}function O(t){if(t=t.filter(function(t){return c(t)}),0==t.length)return null;if(1==t.length)return t[0];var e=t[0],n=t.slice(1);return n.reduce(function(t,e){return-1==$(e.specificity,t.specificity)?e:t},e)}function $(t,e){for(var n=Math.min(t.length,e.length),r=0;n>r;r+=1){var i=j.charCodeAt(t,r),o=j.charCodeAt(e,r),a=o-i;if(0!=a)return a}return t.length-e.length}function T(t,e){if(p(t)){var n=N.annotations(t);if(c(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof yt.RouteConfig)throw new M('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}function U(t,e){var n=Jt;return h(t.component)?n:(c(t.child)&&(n=U(t.child,c(e)?e.child:null)),n.then(function(n){if(0==n)return!1;if(t.component.reuse)return!0;var r=Vt.getCanActivateHook(t.component.componentType);return c(r)?r(t.component,c(e)?e.component:null):!0}))}var D={resolve:function(e){return t.when(e)},reject:function(e){return t.reject(e)},catchError:function(t,e){return t.then(null,e)},all:function(e){return t.all(e)}},k={create:function(t,e){return e=e?e.replace(/g/g,""):"",new RegExp(t,e+"g")},firstMatch:function(t,e){return t.lastIndex=0,t.exec(e)},matcher:function(t,e){return t.lastIndex=0,{re:t,input:e}}},N={annotations:function(t){return t.annotations||[]}},E={create:function(){return{}},set:function(t,e,n){return t[e]=n},get:function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},contains:function(t,e){return t.hasOwnProperty(e)},keys:function(t){return Object.keys(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},"delete":function(t,e){delete t[e]},forEach:function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},equals:function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0},merge:function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}},z=(Array,{toJSON:function(t){return JSON.stringify(t)},clear:function(t){t.length=0},create:function(){return[]},push:function(t,e){return t.push(e)},forEach:function(t,e){return t.forEach(e)},first:function(t){return t?t[0]:null},last:function(t){return(t&&t.length)>0?t[t.length-1]:null},map:function(t,e){return t.map(e)},join:function(t,e){return t.join(e)},reduce:function(t,e,n){return t.reduce(e,n)},filter:function(t,e){return t.filter(e)},concat:function(t,e){return t.concat(e)},slice:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null;return t.slice(e,null===n?void 0:n)},maximum:function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var o=t[i];if(!h(o)){var a=e(o);a>r&&(n=o,r=a)}}return n}}),j={charCodeAt:function(t,e){return t.charCodeAt(e)},equals:function(t,e){return t===e},split:function(t,e){return t.split(e)},replaceAll:function(t,e,n){return t.replace(e,n)},replaceAllMapped:function(t,e,n){return t.replace(e,function(t){return t.splice(-2,2),n.apply(null,t)})},contains:function(t,e){return-1!=t.indexOf(e)}},M=Error,B={callNext:function(t,e){t.fn(e)},callEmit:function(t,e){t.fn(e)},subscribe:function(t,e){t.fn=e}};y.prototype.subscribe=function(){},y.prototype.path=function(){return e.url()},y.prototype.go=function(t,n){return e.url(t+n)};var L={Injectable:function(){},OpaqueToken:function(){},Inject:function(){}},W=function(){return L},H=function(){function t(t){var e=this;this.map={},this.keys={},c(t)&&E.forEach(t,function(t,n){e.map[n]=c(t)?t.toString():null,e.keys[n]=!0})}return t.prototype.get=function(t){return E["delete"](this.keys,t),this.map[t]},t.prototype.getUnused=function(){var t=this,e={},n=E.keys(this.keys);return n.forEach(function(n){return e[n]=E.get(t.map,n)}),e},t}();L.TouchMap=H,L.normalizeString=d;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};L.convertUrlParamsToArray=_,L.serializeParams=R;var F=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=s([])),void 0===r&&(r=s({})),this.path=t,this.child=e,this.auxiliary=n,this.params=r}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){var t=R(this.params,";");return t.length>0?";"+t:""},t.prototype._childString=function(){return c(this.child)?"/"+this.child.toString():""},t}();L.Url=F;var V=function(t){function e(e,n,r,i){void 0===n&&(n=null),void 0===r&&(r=s([])),void 0===i&&(i=null),t.call(this,e,n,r,i)}return q(e,t),e.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},e.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},e.prototype._queryParamsToString=function(){return h(this.params)?"":"?"+R(this.params)},e}(F);L.RootUrl=V,L.pathSegmentsToUrl=w;var J=k.create("^[^\\/\\(\\)\\?;=&#]+"),Q=function(){function t(){}return t.prototype.peekStartsWith=function(t){return this._remaining.startsWith(t)},t.prototype.capture=function(t){if(!this._remaining.startsWith(t))throw new M('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return this._remaining=t,""==t||"/"==t?new F(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=P(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var n=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment());var r=null;return this.peekStartsWith("?")&&(r=this.parseQueryParams()),new V(t,n,e,r)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=P(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var n=[];this.peekStartsWith("(")&&(n=this.parseAuxiliaryRoutes());var r=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment()),new F(t,r,n,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseParam(t);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=P(this._remaining);if(!h(e)){this.capture(e);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var r=P(this._remaining);c(r)&&(n=r,this.capture(n))}t[e]=n}},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();L.UrlParser=Q,L.parser=new Q;var K=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(3>o?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},G=function(){function t(t){this.name=t}return t=K([u()],t)}();L.RouteLifecycleHook=G;var Y=function(){function t(t){this.fn=t}return t=K([u()],t)}();L.CanActivate=Y,L.routerCanReuse=s(new G("routerCanReuse")),L.routerCanDeactivate=s(new G("routerCanDeactivate")),L.routerOnActivate=s(new G("routerOnActivate")),L.routerOnReuse=s(new G("routerOnReuse")),L.routerOnDeactivate=s(new G("routerOnDeactivate"));var Z=W("./lifecycle_annotations_impl");L.hasLifecycleHook=x,L.getCanActivateHook=A;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},K=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(3>o?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},X=W("../route_definition");L.RouteDefinition=X.RouteDefinition;var tt=function(){function t(t){this.configs=t}return t=K([u()],t)}();L.RouteConfig=tt;var et=function(){function t(t){var e=t.name,n=t.useAsDefault,r=t.path,i=t.regex,o=t.serializer,a=t.data;this.name=e,this.useAsDefault=n,this.path=r,this.regex=i,this.serializer=o,this.data=a}return t=K([u()],t)}();L.AbstractRoute=et;var nt=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.component;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.aux=null,this.component=s}return q(e,t),e=K([u()],e)}(et);L.Route=nt;var rt=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.component;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.component=s}return q(e,t),e=K([u()],e)}(et);L.AuxRoute=rt;var it=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.loader;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.aux=null,this.loader=s}return q(e,t),e=K([u()],e)}(et);L.AsyncRoute=it;var ot=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.redirectTo;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.redirectTo=s}return q(e,t),e=K([u()],e)}(et);L.Redirect=ot;var at=W("./route_config_decorator");L.normalizeRouteConfig=C,L.assertComponentExists=b;var ut=W("../../instruction"),st=function(){function t(t,e){void 0===e&&(e=null),this._loader=t,this._resolvedComponent=null,this.data=c(e)?new ut.RouteData(e):ut.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){var t=this;return c(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})},t}();L.AsyncRouteHandler=st;var ut=W("../../instruction"),ct=function(){function t(t,e){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=D.resolve(t),this.data=c(e)?new ut.RouteData(e):ut.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();L.SyncRouteHandler=ct;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ht=W("../url_parser"),ut=W("../instruction"),lt=function(){function t(){}return t}();L.RouteMatch=lt;var pt=function(t){function e(e,n,r){t.call(this),this.instruction=e,this.remaining=n,this.remainingAux=r}return q(e,t),e}(lt);L.PathMatch=pt;var ft=function(t){function e(e,n){t.call(this),this.redirectTo=e,this.specificity=n}return q(e,t),e}(lt);L.RedirectMatch=ft;var gt=function(){function t(t,e){this._pathRecognizer=t,this.redirectTo=e,this.hash=this._pathRecognizer.hash}return Object.defineProperty(t.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(t){throw new M("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=null;return c(this._pathRecognizer.matchUrl(t))&&(e=new ft(this.redirectTo,this._pathRecognizer.specificity)),D.resolve(e)},t.prototype.generate=function(t){throw new M("Tried to generate a redirect.")},t}();L.RedirectRule=gt;var mt=function(){function t(t,e){this._routePath=t,this.handler=e,this._cache=new Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(t.prototype,"path",{get:function(){return this._routePath.toString()},set:function(t){throw new M("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=this,n=this._routePath.matchUrl(t);return h(n)?null:this.handler.resolveComponentType().then(function(t){var r=e._getInstruction(n.urlPath,n.urlParams,n.allParams);return new pt(r,n.rest,n.auxiliary)})},t.prototype.generate=function(t){var e=this._routePath.generateUrl(t),n=e.urlPath,r=e.urlParams;return this._getInstruction(n,ht.convertUrlParamsToArray(r),t)},t.prototype.generateComponentPathValues=function(t){return this._routePath.generateUrl(t)},t.prototype._getInstruction=function(t,e,n){if(h(this.handler.componentType))throw new M("Tried to get instruction before the type was loaded.");var r=t+"?"+e.join("&");if(this._cache.has(r))return this._cache.get(r);var i=new ut.ComponentInstruction(t,e,this.handler.data,this.handler.componentType,this.terminal,this.specificity,n);return this._cache.set(r,i),i},t}();L.RouteRule=mt;var vt=W("./rules"),yt=W("../route_config/route_config_impl"),dt=W("./route_handlers/async_route_handler"),_t=W("./route_handlers/sync_route_handler"),Rt=W("./route_paths/param_route_path"),wt=W("./route_paths/regex_route_path"),Pt=function(){function t(){this.rulesByName=new Map,this.auxRulesByName=new Map,this.auxRulesByPath=new Map,this.rules=[],this.defaultRule=null}return t.prototype.config=function(t){var e;if(c(t.name)&&t.name[0].toUpperCase()!=t.name[0]){var n=t.name[0].toUpperCase()+t.name.substring(1);throw new M('Route "'+t.path+'" with name "'+t.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+n+'".')}if(t instanceof yt.AuxRoute){e=new _t.SyncRouteHandler(t.component,t.data);var r=this._getRoutePath(t),i=new vt.RouteRule(r,e);return this.auxRulesByPath.set(r.toString(),i),c(t.name)&&this.auxRulesByName.set(t.name,i),i.terminal}var o=!1;if(t instanceof yt.Redirect){var a=this._getRoutePath(t),u=new vt.RedirectRule(a,t.redirectTo);return this._assertNoHashCollision(u.hash,t.path),this.rules.push(u),!0}t instanceof yt.Route?(e=new _t.SyncRouteHandler(t.component,t.data),o=c(t.useAsDefault)&&t.useAsDefault):t instanceof yt.AsyncRoute&&(e=new dt.AsyncRouteHandler(t.loader,t.data),o=c(t.useAsDefault)&&t.useAsDefault);var s=this._getRoutePath(t),h=new vt.RouteRule(s,e);if(this._assertNoHashCollision(h.hash,t.path),o){if(c(this.defaultRule))throw new M("Only one route can be default");this.defaultRule=h}return this.rules.push(h),c(t.name)&&this.rulesByName.set(t.name,h),h.terminal},t.prototype.recognize=function(t){var e=[];return this.rules.forEach(function(n){var r=n.recognize(t);c(r)&&e.push(r)}),0==e.length&&c(t)&&t.auxiliary.length>0?[D.resolve(new vt.PathMatch(null,null,t.auxiliary))]:e},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRulesByPath.get(t.path);return c(e)?[e.recognize(t)]:[D.resolve(null)]},t.prototype.hasRoute=function(t){return this.rulesByName.has(t)},t.prototype.componentLoaded=function(t){return this.hasRoute(t)&&c(this.rulesByName.get(t).handler.componentType)},t.prototype.loadComponent=function(t){return this.rulesByName.get(t).handler.resolveComponentType()},t.prototype.generate=function(t,e){var n=this.rulesByName.get(t);return h(n)?null:n.generate(e)},t.prototype.generateAuxiliary=function(t,e){var n=this.auxRulesByName.get(t);return h(n)?null:n.generate(e)},t.prototype._assertNoHashCollision=function(t,e){this.rules.forEach(function(n){if(t==n.hash)throw new M("Configuration '"+e+"' conflicts with existing route '"+n.path+"'")})},t.prototype._getRoutePath=function(t){if(c(t.regex)){if(isFunction(t.serializer))return new wt.RegexRoutePath(t.regex,t.serializer);throw new M("Route provides a regex property, '"+t.regex+"', but no serializer property")}if(c(t.path)){var e=t instanceof yt.AuxRoute&&t.path.startsWith("/")?t.path.substring(1):t.path;return new Rt.ParamRoutePath(e)}throw new M("Route must provide either a path or regex property")},t}();L.RuleSet=Pt;var xt=function(){function t(t,e,n,r,i){this.urlPath=t,this.urlParams=e,this.allParams=n,this.auxiliary=r,this.rest=i}return t}();L.MatchedUrl=xt;var At=function(){function t(t,e){this.urlPath=t,this.urlParams=e}return t}();L.GeneratedUrl=At;var Ct=W("../../utils"),ht=W("../../url_parser"),St=W("./route_path"),bt=function(){function t(){this.name="",this.specificity="",this.hash="..."}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),It=function(){function t(t){this.path=t,this.name="",this.specificity="2",this.hash=t}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),Ot=function(){function t(t){this.name=t,this.specificity="1",this.hash=":"}return t.prototype.match=function(t){return t.length>0},t.prototype.generate=function(t){if(!E.contains(t.map,this.name))throw new M("Route generator for '"+this.name+"' was not included in parameters passed.");return Ct.normalizeString(t.get(this.name))},t.paramMatcher=/^:([^\/]+)$/g,t}(),$t=function(){function t(t){this.name=t,this.specificity="0",this.hash="*"}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return Ct.normalizeString(t.get(this.name))},t.wildcardMatcher=/^\*([^\/]+)$/g,t}(),Tt=function(){function t(t){this.routePath=t,this.terminal=!0,this._assertValidPath(t),this._parsePathString(t),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var e=this._segments[this._segments.length-1];this.terminal=!(e instanceof bt)}return t.prototype.matchUrl=function(t){for(var e,n=t,r={},i=[],o=0;o<this._segments.length;o+=1){var a=this._segments[o];if(e=n,a instanceof bt)break;if(c(e)){if(a instanceof $t){r[a.name]=e.toString(),i.push(e.toString()),n=null;break}if(i.push(e.path),a instanceof Ot)r[a.name]=e.path;else if(!a.match(e.path))return null;n=e.child}else if(!a.match(""))return null}if(this.terminal&&c(n))return null;var u=i.join("/"),s=[],h=[],l=r;if(c(e)){var p=t instanceof ht.RootUrl?t:e;c(p.params)?(l=E.merge(p.params,r),h=ht.convertUrlParamsToArray(p.params)):l=r,s=e.auxiliary}return new St.MatchedUrl(u,h,l,s,n)},t.prototype.generateUrl=function(t){for(var e=new Ct.TouchMap(t),n=[],r=0;r<this._segments.length;r++){var i=this._segments[r];i instanceof bt||n.push(i.generate(e))}var o=n.join("/"),a=e.getUnused(),u=a;return new St.GeneratedUrl(o,u)},t.prototype.toString=function(){return this.routePath},t.prototype._parsePathString=function(t){t.startsWith("/")&&(t=t.substring(1));var e=t.split("/");this._segments=[];for(var n=e.length-1,r=0;n>=r;r++){var i,o=e[r];if(c(i=k.firstMatch(Ot.paramMatcher,o)))this._segments.push(new Ot(i[1]));else if(c(i=k.firstMatch($t.wildcardMatcher,o)))this._segments.push(new $t(i[1]));else if("..."==o){if(n>r)throw new M('Unexpected "..." before the end of the path for "'+t+'".');this._segments.push(new bt)}else this._segments.push(new It(o))}},t.prototype._calculateSpecificity=function(){var t,e,n=this._segments.length;if(0==n)e+="2";else for(e="",t=0;n>t;t++)e+=this._segments[t].specificity;return e},t.prototype._calculateHash=function(){var t,e=this._segments.length,n=[];for(t=0;e>t;t++)n.push(this._segments[t].hash);return n.join("/")},t.prototype._assertValidPath=function(e){if(j.contains(e,"#"))throw new M('Path "'+e+'" should not include "#". Use "HashLocationStrategy" instead.');var n=k.firstMatch(t.RESERVED_CHARS,e);if(c(n))throw new M('Path "'+e+'" contains "'+n[0]+'" which is not allowed in a route config.')},t.RESERVED_CHARS=k.create("//|\\(|\\)|;|\\?|="),t}();L.ParamRoutePath=Tt;var St=W("./route_path"),Ut=function(){function t(t,e){this._reString=t,this._serializer=e,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=k.create(this._reString)}return t.prototype.matchUrl=function(t){var e=t.toString(),n={},r=k.matcher(this._regex,e),i=RegExpMatcherWrapper.next(r);if(h(i))return null;for(var o=0;o<i.length;o+=1)n[o.toString()]=i[o];return new St.MatchedUrl(e,[],n,[],null)},t.prototype.generateUrl=function(t){return this._serializer(t)},t.prototype.toString=function(){return this._reString},t}();L.RegexRoutePath=Ut;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dt=function(){function t(t){this.params=t}return t.prototype.get=function(t){return normalizeBlank(E.get(this.params,t))},t}();L.RouteParams=Dt;var kt=function(){function t(t){void 0===t&&(t=s({})),this.data=t}return t.prototype.get=function(t){return normalizeBlank(E.get(this.data,t))},t}();L.RouteData=kt,L.BLANK_ROUTE_DATA=new kt;var Nt=function(){function t(t,e,n){this.component=t,this.child=e,this.auxInstruction=n}return Object.defineProperty(t.prototype,"urlPath",{get:function(){return c(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return c(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){var t="";return c(this.component)&&(t+=this.component.specificity),c(this.child)&&(t+=this.child.specificity),t},enumerable:!0,configurable:!0}),t.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},t.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(c(this.child)?this.child._toNonRootUrl():"")},t.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},t.prototype.replaceChild=function(t){return new Et(this.component,t,this.auxInstruction)},t.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(c(this.child)?this.child._toNonRootUrl():"")},t.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(c(this.child)?this.child._toLinkUrl():"")},t.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(c(this.child)?this.child._toLinkUrl():"")},t.prototype._stringifyPathMatrixAuxPrefixed=function(){var t=this._stringifyPathMatrixAux();return t.length>0&&(t="/"+t),t},t.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},t.prototype._stringifyPathMatrixAux=function(){return h(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},t.prototype._stringifyAux=function(){var t=[];return E.forEach(this.auxInstruction,function(e,n){t.push(e._stringifyPathMatrixAux())}),t.length>0?"("+t.join("//")+")":""},t}();L.Instruction=Nt;var Et=function(t){function e(e,n,r){t.call(this,e,n,r)}return q(e,t),e.prototype.resolveComponent=function(){return D.resolve(this.component)},e}(Nt);L.ResolvedInstruction=Et;var zt=function(t){function e(e,n){t.call(this,e,n,{})}return q(e,t),e.prototype.toLinkUrl=function(){return""},e.prototype._toLinkUrl=function(){return""},e}(Et);L.DefaultInstruction=zt;var jt=function(t){function e(e,n,r){void 0===n&&(n=""),void 0===r&&(r=s([])),t.call(this,null,null,{}),this._resolver=e,this._urlPath=n,this._urlParams=r}return q(e,t),Object.defineProperty(e.prototype,"urlPath",{get:function(){return c(this.component)?this.component.urlPath:c(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlParams",{get:function(){return c(this.component)?this.component.urlParams:c(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),e.prototype.resolveComponent=function(){var t=this;return c(this.component)?D.resolve(this.component):this._resolver().then(function(e){return t.child=e.child,t.component=e.component})},e}(Nt);L.UnresolvedInstruction=jt;var Mt=function(t){function e(e,n,r,i){t.call(this,e,n,r),this._specificity=i}return q(e,t),Object.defineProperty(e.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),e}(Et);L.RedirectInstruction=Mt;var Bt=function(){function t(t,e,n,r,i,o,a){void 0===a&&(a=null),this.urlPath=t,this.urlParams=e,this.componentType=r,this.terminal=i,this.specificity=o,this.params=a,this.reuse=!1,this.routeData=c(n)?n:L.BLANK_ROUTE_DATA}return t}();L.ComponentInstruction=Bt;var Lt=W("angular2/core"),yt=W("./route_config/route_config_impl"),vt=W("./rules/rules"),Wt=W("./rules/rule_set"),ut=W("./instruction"),Ht=W("./route_config/route_config_normalizer"),ht=W("./url_parser"),qt=D.resolve(null);L.ROUTER_PRIMARY_COMPONENT=s(new Lt.OpaqueToken("RouterPrimaryComponent"));var Ft=function(){function t(t){this._rootComponent=t,this._rules=new Map}return t.prototype.config=function(t,e){e=Ht.normalizeRouteConfig(e,this),e instanceof yt.Route?Ht.assertComponentExists(e.component,e.path):e instanceof yt.AuxRoute&&Ht.assertComponentExists(e.component,e.path);var n=this._rules.get(t);h(n)&&(n=new Wt.RuleSet,this._rules.set(t,n));var r=n.config(e);e instanceof yt.Route&&(r?T(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(t){var e=this;if(p(t)&&!this._rules.has(t)){var n=N.annotations(t);if(c(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof yt.RouteConfig){var o=i.configs;o.forEach(function(n){return e.config(t,n)})}}}},t.prototype.recognize=function(t,e){var n=ht.parser.parse(t);return this._recognize(n,[])},t.prototype._recognize=function(t,e,n){var r=this;void 0===n&&(n=!1);var i=z.last(e),o=c(i)?i.component.componentType:this._rootComponent,a=this._rules.get(o);if(h(a))return qt;var u=n?a.recognizeAuxiliary(t):a.recognize(t),s=u.map(function(t){
return t.then(function(t){if(t instanceof vt.PathMatch){var n=e.length>0?[z.last(e)]:[],i=r._auxRoutesToUnresolved(t.remainingAux,n),o=new ut.ResolvedInstruction(t.instruction,null,i);if(h(t.instruction)||t.instruction.terminal)return o;var a=e.concat([o]);return r._recognize(t.remaining,a).then(function(t){return h(t)?null:t instanceof ut.RedirectInstruction?t:(o.child=t,o)})}if(t instanceof vt.RedirectMatch){var o=r.generate(t.redirectTo,e.concat([null]));return new ut.RedirectInstruction(o.component,o.child,o.auxInstruction,t.specificity)}})});return!h(t)&&""!=t.path||0!=u.length?D.all(s).then(O):D.resolve(this.generateDefault(o))},t.prototype._auxRoutesToUnresolved=function(t,e){var n=this,r={};return t.forEach(function(t){r[t.path]=new ut.UnresolvedInstruction(function(){return n._recognize(t,e,!0)})}),r},t.prototype.generate=function(t,e,n){void 0===n&&(n=!1);var r,i=I(t);if(""==z.first(i))i.shift(),r=z.first(e),e=[];else if(r=e.length>0?e.pop():null,"."==z.first(i))i.shift();else if(".."==z.first(i))for(;".."==z.first(i);){if(e.length<=0)throw new M('Link "'+z.toJSON(t)+'" has too many "../" segments.');r=e.pop(),i=z.slice(i,1)}else{var o=z.first(i),a=this._rootComponent,u=null;if(e.length>1){var s=e[e.length-1],l=e[e.length-2];a=s.component.componentType,u=l.component.componentType}else 1==e.length&&(a=e[0].component.componentType,u=this._rootComponent);var p=this.hasRoute(o,a),f=c(u)&&this.hasRoute(o,u);if(f&&p){var g='Link "'+z.toJSON(t)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new M(g)}f&&(r=e.pop())}if(""==i[i.length-1]&&i.pop(),i.length>0&&""==i[0]&&i.shift(),i.length<1){var g='Link "'+z.toJSON(t)+'" must include a route name.';throw new M(g)}for(var m=this._generate(i,e,r,n,t),v=e.length-1;v>=0;v--){var y=e[v];if(h(y))break;m=y.replaceChild(m)}return m},t.prototype._generate=function(t,e,n,r,i){var o=this;void 0===r&&(r=!1);var a=this._rootComponent,u=null,s={},p=z.last(e);if(c(p)&&c(p.component)&&(a=p.component.componentType),0==t.length){var v=this.generateDefault(a);if(h(v))throw new M('Link "'+z.toJSON(i)+'" does not resolve to a terminal instruction.');return v}c(n)&&!r&&(s=E.merge(n.auxInstruction,s),u=n.component);var y=this._rules.get(a);if(h(y))throw new M('Component "'+m(a)+'" has no route config.');var d=0,_={};if(d<t.length&&l(t[d])){var R=t[d];if(""==R||"."==R||".."==R)throw new M('"'+R+'/" is only allowed at the beginning of a link DSL.');if(d+=1,d<t.length){var w=t[d];f(w)&&!g(w)&&(_=w,d+=1)}var P=(r?y.auxRulesByName:y.rulesByName).get(R);if(h(P))throw new M('Component "'+m(a)+'" has no route named "'+R+'".');if(h(P.handler.componentType)){var x=P.generateComponentPathValues(_);return new ut.UnresolvedInstruction(function(){return P.handler.resolveComponentType().then(function(a){return o._generate(t,e,n,r,i)})},x.urlPath,ht.convertUrlParamsToArray(x.urlParams))}u=r?y.generateAuxiliary(R,_):y.generate(R,_)}for(;d<t.length&&g(t[d]);){var A=[p],C=this._generate(t[d],A,null,!0,i);s[C.component.urlPath]=C,d+=1}var S=new ut.ResolvedInstruction(u,null,s);if(c(u)&&c(u.componentType)){var b=null;if(u.terminal)d>=t.length;else{var I=e.concat([S]),O=t.slice(d);b=this._generate(O,I,null,!1,i)}S.child=b}return S},t.prototype.hasRoute=function(t,e){var n=this._rules.get(e);return h(n)?!1:n.hasRoute(t)},t.prototype.generateDefault=function(t){var e=this;if(h(t))return null;var n=this._rules.get(t);if(h(n)||h(n.defaultRule))return null;var r=null;if(c(n.defaultRule.handler.componentType)){var i=n.defaultRule.generate({});return n.defaultRule.terminal||(r=this.generateDefault(n.defaultRule.handler.componentType)),new ut.DefaultInstruction(i,r)}return new ut.UnresolvedInstruction(function(){return n.defaultRule.handler.resolveComponentType().then(function(n){return e.generateDefault(t)})})},t}();L.RouteRegistry=Ft;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Vt=W("./lifecycle/route_lifecycle_reflector"),Jt=D.resolve(!0),Qt=D.resolve(!1),Kt=function(){function t(t,e,n){this.registry=t,this.parent=e,this.hostComponent=n,this.navigating=!1,this._currentInstruction=null,this._currentNavigation=Jt,this._outlet=null,this._auxRouters=new Map,this._subject=new v}return t.prototype.childRouter=function(t){return this._childRouter=new Yt(this,t)},t.prototype.auxRouter=function(t){return new Yt(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(c(t.name))throw new M("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(c(this._outlet))throw new M("Primary outlet is already registered.");return this._outlet=t,c(this._currentInstruction)?this.commit(this._currentInstruction,!1):Jt},t.prototype.unregisterPrimaryOutlet=function(t){if(c(t.name))throw new M("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(h(e))throw new M("registerAuxOutlet expects to be called with an outlet with a name.");var n=this.auxRouter(this.hostComponent);this._auxRouters.set(e,n),n._outlet=t;var r;return c(this._currentInstruction)&&c(r=this._currentInstruction.auxInstruction[e])?n.commit(r):Jt},t.prototype.isRouteActive=function(t){for(var e=this;c(e.parent)&&c(t.child);)e=e.parent,t=t.child;return c(this._currentInstruction)&&this._currentInstruction.component==t.component},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(t,e){var n=this;return void 0===e&&(e=!1),this._currentNavigation=this._currentNavigation.then(function(r){return n.lastNavigationAttempt=t,n._startNavigating(),n._afterPromiseFinishNavigating(n.recognize(t).then(function(t){return h(t)?!1:n._navigate(t,e)}))})},t.prototype.navigateByInstruction=function(t,e){var n=this;return void 0===e&&(e=!1),h(t)?Qt:this._currentNavigation=this._currentNavigation.then(function(r){return n._startNavigating(),n._afterPromiseFinishNavigating(n._navigate(t,e))})},t.prototype._settleInstruction=function(t){var e=this;return t.resolveComponent().then(function(n){var r=[];return c(t.component)&&(t.component.reuse=!1),c(t.child)&&r.push(e._settleInstruction(t.child)),E.forEach(t.auxInstruction,function(t,n){r.push(e._settleInstruction(t))}),D.all(r)})},t.prototype._navigate=function(t,e){var n=this;return this._settleInstruction(t).then(function(e){return n._routerCanReuse(t)}).then(function(e){return n._canActivate(t)}).then(function(r){return r?n._routerCanDeactivate(t).then(function(r){return r?n.commit(t,e).then(function(e){return n._emitNavigationFinish(t.toRootUrl()),!0}):void 0}):!1})},t.prototype._emitNavigationFinish=function(t){B.callEmit(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return D.catchError(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._routerCanReuse=function(t){var e=this;return h(this._outlet)?Qt:h(t.component)?Jt:this._outlet.routerCanReuse(t.component).then(function(n){return t.component.reuse=n,n&&c(e._childRouter)&&c(t.child)?e._childRouter._routerCanReuse(t.child):void 0})},t.prototype._canActivate=function(t){return U(t,this._currentInstruction)},t.prototype._routerCanDeactivate=function(t){var e=this;if(h(this._outlet))return Jt;var n,r=null,i=!1,o=null;return c(t)&&(r=t.child,o=t.component,i=h(t.component)||t.component.reuse),n=i?Jt:this._outlet.routerCanDeactivate(o),n.then(function(t){return 0==t?!1:c(e._childRouter)?e._childRouter._routerCanDeactivate(r):!0})},t.prototype.commit=function(t,e){var n=this;void 0===e&&(e=!1),this._currentInstruction=t;var r=Jt;if(c(this._outlet)&&c(t.component)){var i=t.component;r=i.reuse?this._outlet.reuse(i):this.deactivate(t).then(function(t){return n._outlet.activate(i)}),c(t.child)&&(r=r.then(function(e){return c(n._childRouter)?n._childRouter.commit(t.child):void 0}))}var o=[];return this._auxRouters.forEach(function(e,n){c(t.auxInstruction[n])&&o.push(e.commit(t.auxInstruction[n]))}),r.then(function(t){return D.all(o)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t){return B.subscribe(this._subject,t)},t.prototype.deactivate=function(t){var e=this,n=null,r=null;c(t)&&(n=t.child,r=t.component);var i=Jt;return c(this._childRouter)&&(i=this._childRouter.deactivate(n)),c(this._outlet)&&(i=i.then(function(t){return e._outlet.deactivate(r)})),i},t.prototype.recognize=function(t){var e=this._getAncestorInstructions();return this.registry.recognize(t,e)},t.prototype._getAncestorInstructions=function(){for(var t=[this._currentInstruction],e=this;c(e=e.parent);)t.unshift(e._currentInstruction);return t},t.prototype.renavigate=function(){return h(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},t.prototype.generate=function(t){var e=this._getAncestorInstructions();return this.registry.generate(t,e)},t}();L.Router=Kt;var Gt=function(t){function e(e,n,r){var i=this;t.call(this,e,null,r),this._location=n,this._locationSub=this._location.subscribe(function(t){i.recognize(t.url).then(function(e){i.navigateByInstruction(e,c(t.pop)).then(function(n){if(!c(t.pop)||"hashchange"==t.type){var r=e.toUrlPath(),o=e.toUrlQuery();r.length>0&&"/"!=r[0]&&(r="/"+r),"hashchange"==t.type?e.toRootUrl()!=i._location.path()&&i._location.replaceState(r,o):i._location.go(r,o)}})})}),this.registry.configFromComponent(r),this.navigateByUrl(n.path())}return q(e,t),e.prototype.commit=function(e,n){var r=this;void 0===n&&(n=!1);var i=e.toUrlPath(),o=e.toUrlQuery();i.length>0&&"/"!=i[0]&&(i="/"+i);var a=t.prototype.commit.call(this,e);return n||(a=a.then(function(t){r._location.go(i,o)})),a},e.prototype.dispose=function(){c(this._locationSub)&&(B.dispose(this._locationSub),this._locationSub=null)},e}(Kt);L.RootRouter=Gt;var Yt=function(t){function e(e,n){t.call(this,e.registry,e,n),this.parent=e}return q(e,t),e.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},e.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},e}(Kt);L.getCanActivateHook=function(t){var e=n.getTypeByName(t);return e&&e.$canActivate&&function(t,n){return o.invoke(e.$canActivate,null,{$nextInstruction:t,$prevInstruction:n})}},L.assertComponentExists=function(){},angular.stringifyInstruction=function(t){return t.toRootUrl()};var Ft=L.RouteRegistry,Gt=L.RootRouter,Zt=new Ft(a),Xt=new y;n(function(t,e){angular.isArray(e.$routeConfig)&&e.$routeConfig.forEach(function(e){Zt.config(t,e)})});var te=new Gt(Zt,Xt,a);return i.$watch(function(){return e.url()},function(t){te.lastNavigationAttempt!==t&&te.navigateByUrl(t)}),te.subscribe(function(){i.$broadcast("$routeChangeSuccess",{})}),te}var u=function(){function t(){this.directiveBuffer=[],this.directiveFactoriesByName={},this.onDirectiveRegistered=null}return t.prototype.register=function(t,e){angular.isArray(e)&&(e=e[e.length-1]),this.directiveFactoriesByName[t]=e,this.onDirectiveRegistered?this.onDirectiveRegistered(t,e):this.directiveBuffer.push({name:t,factory:e})},t.prototype.$get=function(){var t=this,e=function(e){for(t.onDirectiveRegistered=e;t.directiveBuffer.length>0;){var n=t.directiveBuffer.pop();t.onDirectiveRegistered(n.name,n.factory)}};return e.getTypeByName=function(e){return t.directiveFactoriesByName[e]},e},t}();angular.module("ngComponentRouter",[]).directive("ngOutlet",["$animate","$q","$rootRouter",e]).directive("ngOutlet",["$compile",n]).directive("ngLink",["$rootRouter","$parse",i]).directive("$router",["$q",r]),angular.module("ng").provider("$$directiveIntrospector",u).config(["$compileProvider","$$directiveIntrospectorProvider",t]),angular.module("ngComponentRouter").value("$route",null).value("$routerRootComponent",new Object).factory("$rootRouter",["$q","$location","$$directiveIntrospector","$browser","$rootScope","$injector","$routerRootComponent",a])}();
/*eslint-enable */
/* jshint ignore:end */
